<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Album K·ª∑ Ni·ªám</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f5f6fa;
    text-align: center;
    padding: 30px;
  }

  h1 {
    color: #2c3e50;
  }

  h2 {
    color: #333;
  }

  input, button {
    padding: 10px;
    margin: 10px;
    font-size: 16px;
  }

  #gallery {
    display: none;
    margin-top: 30px;
  }

  .album {
    margin-bottom: 40px;
    animation: fadeIn 1s ease-in-out;
  }

  .album h3 {
    margin-bottom: 10px;
    color: #2c3e50;
  }

  .photo-grid {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 10px;
  }

  .photo-grid img {
    width: 300px;
    height: auto;
    border-radius: 10px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    pointer-events: none; /* ch·ªëng click / copy */
    user-select: none;
    opacity: 0;
    transition: opacity 1s ease-in-out;
  }

  .photo-grid img.visible {
    opacity: 1;
  }

  @keyframes fadeIn {
    from {opacity: 0;}
    to {opacity: 1;}
  }
</style>
</head>
<body>

<h1>üåø B·ªô S∆∞u T·∫≠p K·ª∑ Ni·ªám</h1>
<p>
  ƒê√¢y l√† n∆°i l∆∞u gi·ªØ nh·ªØng h√¨nh ·∫£nh ƒë·∫∑c bi·ªát v√† √Ω nghƒ©a.<br/>
  Ch·ªâ nh·ªØng ng∆∞·ªùi th√¢n thi·∫øt m·ªõi c√≥ th·ªÉ m·ªü kh√≥a v√† xem n·ªôi dung b√™n trong üíñ
</p>

<h2>üîí ƒêƒÉng nh·∫≠p b·∫±ng ng√†y sinh</h2>
<input type="date" id="dob" />
<br/>
<button onclick="checkDOB()">X√°c nh·∫≠n</button>

<div id="gallery"></div>

<script>
// üîí Ch·∫∑n chu·ªôt ph·∫£i & k√©o ·∫£nh
document.addEventListener('contextmenu', e => e.preventDefault());
document.addEventListener('dragstart', e => e.preventDefault());

// ============================
// üëá C·∫•u h√¨nh ng∆∞·ªùi d√πng (m√£ h√≥a SHA-256 c·ªßa t√™n + ng√†y sinh)
// ============================
// M√£ bƒÉm SHA-256 cho "thai1986-06-06" v√† "duy1995-02-07"
const allowedUsers = [
  "a4588ffb9e678af7406041dcbe3dbfdc51a7796f9243d0ce3021a8f44296ce60", // Th√°i
  "2e69eaf3b2c7b8fcbb6b5e5b7f2ebf1a501c284a40b17b8825bfbf5e31edc3c5"  // Duy
];

// ============================
// üëá Album ·∫£nh m·∫´u (Cloudinary)
// ============================
const albums = [
  {
    title: "üáπüá≠ Du l·ªãch Th√°i",
    photos: [
      "https://res.cloudinary.com/demo/image/upload/v1691234567/sample.jpg",
      "https://res.cloudinary.com/demo/image/upload/v1691234567/beautiful_beach.jpg",
      "https://res.cloudinary.com/demo/image/upload/v1691234567/thailand_city.jpg"
    ]
  },
  {
    title: "üáªüá≥ S√†i G√≤n",
    photos: [
      "https://res.cloudinary.com/demo/image/upload/v1691234567/saigon1.jpg",
      "https://res.cloudinary.com/demo/image/upload/v1691234567/saigon2.jpg",
      "https://res.cloudinary.com/demo/image/upload/v1691234567/saigon3.jpg"
    ]
  },
  {
    title: "üèûÔ∏è ƒê√† L·∫°t",
    photos: [
      "https://res.cloudinary.com/demo/image/upload/v1691234567/dalat1.jpg",
      "https://res.cloudinary.com/demo/image/upload/v1691234567/dalat2.jpg"
    ]
  }
];

// ============================
// üëá H√†m x·ª≠ l√Ω ƒëƒÉng nh·∫≠p
// ============================
async function checkDOB() {
  const dob = document.getElementById("dob").value;
  const names = ["thai", "duy"];

  let access = false;
  for (let name of names) {
    const encoded = await hashData(name + dob);
    if (allowedUsers.includes(encoded)) {
      access = true;
      break;
    }
  }

  if (access) {
    document.getElementById("gallery").style.display = "block";
    renderAlbums();
  } else {
    alert("‚ùå Ng√†y sinh kh√¥ng ƒë√∫ng!");
  }
}

// ============================
// üëá T·∫°o m√£ SHA-256
// ============================
async function hashData(str) {
  const buffer = new TextEncoder().encode(str);
  const hash = await crypto.subtle.digest("SHA-256", buffer);
  return Array.from(new Uint8Array(hash)).map(b => b.toString(16).padStart(2, "0")).join("");
}

// ============================
// üëá Render album
// ============================
function renderAlbums() {
  const container = document.getElementById("gallery");
  container.innerHTML = "";

  albums.forEach(album => {
    const section = document.createElement("div");
    section.className = "album";

    const title = document.createElement("h3");
    title.textContent = album.title;

    const grid = document.createElement("div");
    grid.className = "photo-grid";

    album.photos.forEach(url => {
      const img = document.createElement("img");
      img.src = url;
      grid.appendChild(img);
      setTimeout(() => img.classList.add("visible"), 200); // hi·ªáu ·ª©ng fade-in
    });

    section.appendChild(title);
    section.appendChild(grid);
    container.appendChild(section);
  });
}
</script>

</body>
</html>